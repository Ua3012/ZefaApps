<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó—î—Ñ–∞–ë—É—Ä–≥—î—Ä: –ë—É—Ä–≥–µ—Ä–∏ –ø—Ä–æ—Ç–∏ –ß—ñ–∫—î–Ω–ó—î—Ñ</title>
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        #game-container {
            width: 800px;
            height: 600px;
            border: 5px solid #333;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            background-color: #fff;
            position: relative;
            overflow: hidden;
        }

        /* –°–ö–†–ò–¢–ò –í–°–Ü –ï–ö–†–ê–ù–ò –ó–ê –ó–ê–ú–û–í–ß–£–í–ê–ù–ù–Ø–ú */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
        }

        .screen.active {
            display: flex;
        }
        
        /* –°–¢–ò–õ–Ü –ú–ï–ù–Æ */
        #main-menu h1 {
            color: #ff5722;
            font-size: 3em;
            margin-bottom: 5px;
        }

        /* –°–¢–ò–õ–Ü –ö–ù–û–ü–û–ö */
        button {
            padding: 15px 30px;
            margin: 10px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: #ff5722; /* –û—Ä–∞–Ω–∂–µ–≤–∏–π –±—É—Ä–≥–µ—Ä–Ω–∏–π –∫–æ–ª—ñ—Ä */
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
            text-transform: uppercase;
        }

        button:hover {
            background-color: #e64a19;
        }

        /* –°–¢–ò–õ–Ü –Ü–ì–†–û–í–û–ì–û –ï–ö–†–ê–ù–£ (–î–†–ê–ö–ê) */
        #battle-screen {
            background-color: #5cb85c; /* –ö–æ–ª—ñ—Ä —Ç—Ä–∞–≤–∏ */
        }

        #game-view {
            position: relative;
            width: 90%;
            height: 75%;
            border: 2px solid #000;
            overflow: hidden;
            margin-bottom: 10px;
        }

        /* 2D –°–¢–Ü–ù–ò - –Ü–ú–Ü–¢–ê–¶–Ü–Ø –ü–ï–†–®–û–á –û–°–û–ë–ò */
        .wall {
            position: absolute;
            top: 0;
            width: 15%; /* –®–∏—Ä–∏–Ω–∞ —Å—Ç—ñ–Ω–∏ */
            height: 100%;
            background-color: #8b4513; /* –ö–æ—Ä–∏—á–Ω–µ–≤–∏–π –∫–æ–ª—ñ—Ä –¥–µ—Ä–µ–≤–∞ */
            z-index: 10;
        }
        #wall-left { left: 0; }
        #wall-right { right: 0; }

        /* –ü–û–õ–ï –ë–ò–¢–í–ò (–¢—Ä–∞–≤–∞, –ì–æ—Ä–∏, –ß—ñ–∫—î–Ω–ó—î—Ñ–∏) */
        #battle-field {
            position: absolute;
            left: 15%;
            width: 70%; /* –ü—Ä–æ—Å—Ç—ñ—Ä –º—ñ–∂ —Å—Ç—ñ–Ω–∞–º–∏ */
            height: 100%;
            background-image: url('zefaburgerburger.png'); /* –§–û–ù –ó –¢–†–ê–í–û–Æ –¢–ê –ì–û–†–ê–ú–ò */
            background-size: cover; 
            background-position: bottom center;
            border-left: 1px solid #000;
            border-right: 1px solid #000;
            cursor: crosshair; /* –ö—É—Ä—Å–æ—Ä –¥–ª—è –ø—Ä–∏—Ü—ñ–ª—é–≤–∞–Ω–Ω—è */
        }

        #player {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            z-index: 20;
            /* –ì—Ä–∞–≤–µ—Ü—å-–∫—É—Ö–∞—Ä */
        }

        .zefa-chicken {
            position: absolute;
            width: 60px; /* –†–æ–∑–º—ñ—Ä –ß—ñ–∫—î–Ω–ó—î—Ñ–∞ */
            height: auto;
            image-rendering: pixelated; /* –©–æ–± 2D —Å–ø—Ä–∞–π—Ç–∏ –≤–∏–≥–ª—è–¥–∞–ª–∏ —á—ñ—Ç–∫–æ */
            transition: transform 0.1s;
        }
        
        .burger-projectile {
            position: absolute;
            width: 30px;
            height: 30px;
            background-image: url('zefaburgerburger.png'); /* –í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ –±—É—Ä–≥–µ—Ä —è–∫ —Å–Ω–∞—Ä—è–¥ */
            background-size: cover;
            border-radius: 50%;
            z-index: 50;
            transition: transform 0.5s linear;
        }
        
        #game-info {
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 0;
            display: flex;
            justify-content: space-around;
            font-size: 1.1em;
        }
    </style>
</head>
<body>

    <div id="game-container">

        <div id="main-menu" class="screen active">
            <h1>–ó–Ñ–§–ê–ë–£–†–ì–Ñ–†</h1>
            <p>–ì–æ—Ç—É–π –±—É—Ä–≥–µ—Ä–∏. –°—Ç—Ä—ñ–ª—è–π —É –ß—ñ–∫—î–Ω–ó—î—Ñ–∞.</p>
            <button onclick="showScreen('shop-screen')">üõí –ú–ê–ì–ê–ó</button>
            <button onclick="showScreen('kitchen-screen')">üî™ –ö–£–•–ù–Ø</button>
            <button onclick="showScreen('battle-screen')">üí• –î–†–ê–ö–ê (3 –•–í)</button>
        </div>

        <div id="shop-screen" class="screen">
            <h2>üõí –ú–ê–ì–ê–ó</h2>
            <p>–ì—Ä–æ—à—ñ: <span id="money-display">$100</span></p>
            <ul style="list-style-type: none; padding: 0;">
                <li><button onclick="buyUpgrade('speed', 100)">‚¨ÜÔ∏è –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è (100$) (–†—ñ–≤–µ–Ω—å: <span id="speed-lvl">1</span>)</button></li>
                <li><button onclick="buyUpgrade('health', 200)">‚ù§Ô∏è –ú–∞–∫—Å. –ó–¥–æ—Ä–æ–≤'—è (+20HP) (200$) (–†—ñ–≤–µ–Ω—å: <span id="health-lvl">1</span>)</button></li>
                <li><button onclick="buyUpgrade('damage', 150)">üî• –î–µ–º–µ–¥–∂ –±—É—Ä–≥–µ—Ä—ñ–≤ (+5DMG) (150$) (–†—ñ–≤–µ–Ω—å: <span id="damage-lvl">1</span>)</button></li>
            </ul>
            <button onclick="showScreen('main-menu')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –¥–æ –º–µ–Ω—é</button>
        </div>

        <div id="kitchen-screen" class="screen">
            <h2>üî™ –ö–£–•–ù–Ø</h2>
            <div id="cooking-area">
                <button id="cook-button">–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ 1 –ó—î—Ñ–∞–ë—É—Ä–≥—î—Ä</button>
                <p>–ë—É—Ä–≥–µ—Ä—ñ–≤ –≤ –∑–∞–ø–∞—Å—ñ: <span id="burger-count">0</span></p>
            </div>
            <button onclick="showScreen('main-menu')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –¥–æ –º–µ–Ω—é</button>
        </div>

        <div id="battle-screen" class="screen">
            <h2>üí• –î–†–ê–ö–ê: –í–∏–∂–∏—Ç–∏ 3 —Ö–≤!</h2>

            <div id="game-view">
                <div id="wall-left" class="wall"></div>
                <div id="wall-right" class="wall"></div>

                <div id="battle-field">
                    <div id="player">üë®‚Äçüç≥</div>
                    
                    </div>

                <div id="game-info">
                    <p>–ó–¥–æ—Ä–æ–≤'—è: <span id="hp-display">100</span></p>
                    <p>–ß–∞—Å: <span id="time-display">03:00</span></p>
                    <p>–ë—É—Ä–≥–µ—Ä–∏: <span id="ammo-display">0</span></p>
                </div>

            </div>
            
            <p>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è: **–°—Ç—Ä—ñ–ª—è–π** (–ö–ª—ñ–∫ –º–∏—à–µ—é) | **–†—É—Ö** (A/D –∞–±–æ –°—Ç—Ä—ñ–ª–∫–∏)</p>
            <button onclick="showScreen('main-menu')" style="margin-top: 5px;">‚¨ÖÔ∏è –ó–¥–∞—Ç–∏—Å—è —ñ –Ω–∞–∑–∞–¥ –¥–æ –º–µ–Ω—é</button>
        </div>

    </div>

    <script>
        // –ì–õ–û–ë–ê–õ–¨–ù–Ü –Ü–ì–†–û–í–Ü –ó–ú–Ü–ù–ù–Ü
        let money = 100;
        let burgers = 0;
        let playerHP;
        let gameTime;
        let gameInterval;
        let chickenSpawnInterval;
        let playerPosition = 0; // -1 (–∑–ª—ñ–≤–∞), 0 (—Ü–µ–Ω—Ç—Ä), 1 (—Å–ø—Ä–∞–≤–∞)
        
        // –†–Ü–í–ù–Ü –ü–û–ö–†–ê–©–ï–ù–¨
        let upgrades = {
            speed: { level: 1, baseTime: 3000, cost: 100 },
            health: { level: 1, baseHP: 100, cost: 200, bonus: 20 },
            damage: { level: 1, baseDMG: 10, cost: 150, bonus: 5 }
        };

        // DOM –ï–õ–ï–ú–ï–ù–¢–ò
        const battleField = document.getElementById('battle-field');
        const wallLeft = document.getElementById('wall-left');
        const wallRight = document.getElementById('wall-right');
        const cookButton = document.getElementById('cook-button');

        // ==========================================================
        // –§–£–ù–ö–¶–Ü–á –ú–ï–ù–Æ –¢–ê –ú–ê–ì–ê–ó–ò–ù–£
        // ==========================================================

        function updateUI() {
            document.getElementById('money-display').textContent = `$${money}`;
            document.getElementById('burger-count').textContent = burgers;
            document.getElementById('speed-lvl').textContent = upgrades.speed.level;
            document.getElementById('health-lvl').textContent = upgrades.health.level;
            document.getElementById('damage-lvl').textContent = upgrades.damage.level;
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }
            
            if (screenId === 'battle-screen') {
                startGameLoop();
                document.addEventListener('keydown', handleMovement);
            } else {
                stopGameLoop();
                document.removeEventListener('keydown', handleMovement);
            }
            updateUI();
        }

        function buyUpgrade(type, baseCost) {
            const upgrade = upgrades[type];
            const currentCost = baseCost * upgrade.level;
            
            if (money >= currentCost) {
                money -= currentCost;
                upgrade.level++;
                alert(`–í–∏ –ø—Ä–∏–¥–±–∞–ª–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è "${type}". –ù–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å: ${upgrade.level}!`);
                updateUI();
            } else {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≥—Ä–æ—à–µ–π!");
            }
        }

        // ==========================================================
        // –§–£–ù–ö–¶–Ü–á –ö–£–•–ù–Ü
        // ==========================================================

        function cookBurger() {
            const cookTime = upgrades.speed.baseTime / upgrades.speed.level;
            cookButton.disabled = true;
            cookButton.textContent = `–ì–æ—Ç—É—î—Ç—å—Å—è... (${(cookTime / 1000).toFixed(1)}—Å)`;

            setTimeout(() => {
                burgers++;
                cookButton.textContent = "–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ 1 –ó—î—Ñ–∞–ë—É—Ä–≥—î—Ä";
                cookButton.disabled = false;
                updateUI();
            }, cookTime);
        }
        cookButton.addEventListener('click', cookBurger);

        // ==========================================================
        // –§–£–ù–ö–¶–Ü–á –ë–û–Æ (–î–†–ê–ö–ê)
        // ==========================================================
        
        function handleMovement(event) {
            const key = event.key.toLowerCase();
            let newPosition = playerPosition;

            // –†—É—Ö: -1 (–ª—ñ–≤–æ), 0 (—Ü–µ–Ω—Ç—Ä), 1 (–ø—Ä–∞–≤–æ)
            if (key === 'a' || key === 'arrowleft') {
                newPosition = -1;
            } else if (key === 'd' || key === 'arrowright') {
                newPosition = 1;
            } else {
                return; // –ù–µ —Ä–æ–±–∏—Ç–∏ –Ω—ñ—á–æ–≥–æ, —è–∫—â–æ —Ü–µ –Ω–µ A/D
            }
            
            if (newPosition !== playerPosition) {
                playerPosition = newPosition;
                
                // –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Å—Ç—ñ–Ω –¥–ª—è —ñ–º—ñ—Ç–∞—Ü—ñ—ó —Ä—É—Ö—É –≥—Ä–∞–≤—Ü—è
                if (playerPosition === -1) { // –ì—Ä–∞–≤—Ü—è –±—ñ–∂–∏—Ç—å –¥–æ –ª—ñ–≤–æ—ó —Å—Ç—ñ–Ω–∏
                    wallLeft.style.transform = 'translateX(-100%)';
                    wallRight.style.transform = 'translateX(-100%)';
                    battleField.style.transform = 'translateX(-50%)'; // –ó–º—ñ—â–µ–Ω–Ω—è –ø–æ–ª—è
                } else if (playerPosition === 1) { // –ì—Ä–∞–≤—Ü—è –±—ñ–∂–∏—Ç—å –¥–æ –ø—Ä–∞–≤–æ—ó —Å—Ç—ñ–Ω–∏
                    wallLeft.style.transform = 'translateX(100%)';
                    wallRight.style.transform = 'translateX(100%)';
                    battleField.style.transform = 'translateX(50%)'; // –ó–º—ñ—â–µ–Ω–Ω—è –ø–æ–ª—è
                } else { // –¶–µ–Ω—Ç—Ä
                    wallLeft.style.transform = 'translateX(0)';
                    wallRight.style.transform = 'translateX(0)';
                    battleField.style.transform = 'translateX(0)';
                }
            }
        }
        
        function spawnChicken(level) {
            const chicken = document.createElement('img');
            chicken.src = 'zefaburgerchickenzefa.png';
            chicken.className = 'zefa-chicken';
            chicken.dataset.hp = 20 + level * 5; // –ó–¥–æ—Ä–æ–≤'—è –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –∑ —Ä—ñ–≤–Ω–µ–º
            chicken.dataset.speed = 1 + level * 0.1; // –®–≤–∏–¥–∫—ñ—Å—Ç—å –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è
            chicken.dataset.damage = 20; // –§—ñ–∫—Å–æ–≤–∞–Ω–∏–π –¥–µ–º–µ–¥–∂ –ø—Ä–∏ –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—ñ
            
            // –í–∏–ø–∞–¥–∫–æ–≤–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è (–∑–≤–µ—Ä—Ö—É –ø–æ–ª—è)
            const randomX = 15 + Math.random() * 70; // –í—ñ–¥ 15% –¥–æ 85%
            chicken.style.left = `${randomX}%`;
            chicken.style.top = `-50px`; // –ó'—è–≤–ª—è—î—Ç—å—Å—è –∑–∞ –º–µ–∂–∞–º–∏ –µ–∫—Ä–∞–Ω—É
            
            battleField.appendChild(chicken);
        }

        function moveChickens() {
            document.querySelectorAll('.zefa-chicken').forEach(chicken => {
                // –†—É—Ö –≤–Ω–∏–∑
                let currentTop = parseFloat(chicken.style.top) || 0;
                const speed = parseFloat(chicken.dataset.speed);
                chicken.style.top = `${currentTop + speed}px`;
                
                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—è –∑ –≥—Ä–∞–≤—Ü–µ–º (–∫–æ–ª–∏ –¥–æ—Å—è–≥–∞—î –Ω–∏–∂–Ω—å–æ—ó –º–µ–∂—ñ)
                if (currentTop > battleField.clientHeight - 60) {
                    playerHP -= parseFloat(chicken.dataset.damage);
                    document.getElementById('hp-display').textContent = playerHP;
                    chicken.remove(); // –í–∏–¥–∞–ª–∏—Ç–∏ –∫—É—Ä–∫—É
                    
                    if (playerHP <= 0) {
                        stopGameLoop(false); // –ì—Ä–∞–≤—Ü—è –≤–±–∏—Ç–æ
                    }
                }
            });
        }
        
        function shootBurger(event) {
            if (burgers <= 0) {
                alert("–£ –≤–∞—Å –Ω–µ–º–∞—î –±—É—Ä–≥–µ—Ä—ñ–≤! –ô–¥—ñ—Ç—å —É –ö–£–•–ù–Æ!");
                return;
            }
            
            burgers--;
            document.getElementById('ammo-display').textContent = burgers;
            
            const rect = battleField.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const clickY = event.clientY - rect.top;

            const burger = document.createElement('div');
            burger.className = 'burger-projectile';
            burger.style.left = '50%'; // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è - –≤—ñ–¥ –≥—Ä–∞–≤—Ü—è
            burger.style.bottom = '10px';
            
            battleField.appendChild(burger);

            // –õ–æ–≥—ñ–∫–∞ –ø–æ–ª—å–æ—Ç—É (–ø—Ä–æ—Å—Ç–∞ —ñ–º—ñ—Ç–∞—Ü—ñ—è)
            setTimeout(() => {
                burger.style.left = `${clickX}px`;
                burger.style.top = `${clickY}px`;
            }, 10); // –ù–µ–≤–µ–ª–∏–∫–∏–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–Ω–Ω—è CSS-–ø–µ—Ä–µ—Ö–æ–¥—É

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–Ω—è (—á–µ—Ä–µ–∑ 0.5—Å)
            setTimeout(() => {
                checkHit(burger, clickX, clickY);
                burger.remove();
            }, 500); 
        }
        
        function checkHit(burger, targetX, targetY) {
            const burgerDMG = upgrades.damage.baseDMG + (upgrades.damage.level - 1) * upgrades.damage.bonus;
            
            document.querySelectorAll('.zefa-chicken').forEach(chicken => {
                const chickenRect = chicken.getBoundingClientRect();
                const fieldRect = battleField.getBoundingClientRect();
                
                // –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫—É—Ä–∫–∏ —É –≤—ñ–¥–Ω–æ—Å–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –ø–æ–ª—è –±–∏—Ç–≤–∏
                const chX = chickenRect.left - fieldRect.left + chickenRect.width / 2;
                const chY = chickenRect.top - fieldRect.top + chickenRect.height / 2;
                
                // –ü—Ä–æ—Å—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—ó –ø–æ–ø–∞–¥–∞–Ω–Ω—è
                const distance = Math.sqrt(Math.pow(targetX - chX, 2) + Math.pow(targetY - chY, 2));

                if (distance < 50) { // –†–∞–¥—ñ—É—Å –ø–æ–ø–∞–¥–∞–Ω–Ω—è
                    let hp = parseFloat(chicken.dataset.hp);
                    hp -= burgerDMG;
                    chicken.dataset.hp = hp;

                    if (hp <= 0) {
                        chicken.remove();
                        money += 25; // –ù–∞–≥–æ—Ä–æ–¥–∞ –∑–∞ –≤–±–∏—Ç—É –∫—É—Ä–∫—É
                        updateUI();
                    } else {
                        // –Ü–º—ñ—Ç–∞—Ü—ñ—è –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è (–º–æ—Ä–≥–∞–Ω–Ω—è)
                        chicken.style.filter = 'brightness(200%)';
                        setTimeout(() => chicken.style.filter = 'none', 100);
                    }
                    return; // –í—Ä–∞–∑–∏—Ç–∏ –ª–∏—à–µ –æ–¥–Ω—É –∫—É—Ä–∫—É
                }
            });
        }

        // ==========================================================
        // –Ü–ì–†–û–í–ò–ô –¶–ò–ö–õ
        // ==========================================================

        function startGameLoop() {
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –≥—Ä–∏
            playerHP = upgrades.health.baseHP + (upgrades.health.level - 1) * upgrades.health.bonus;
            gameTime = 180; // 3 —Ö–≤–∏–ª–∏–Ω–∏
            playerPosition = 0;
            
            document.getElementById('hp-display').textContent = playerHP;
            document.getElementById('ammo-display').textContent = burgers;
            
            // –û—á–∏—â–µ–Ω–Ω—è –ø–æ–ª—è –≤—ñ–¥ —Å—Ç–∞—Ä–∏—Ö –∫—É—Ä–æ–∫
            document.querySelectorAll('.zefa-chicken').forEach(c => c.remove());
            document.querySelectorAll('.burger-projectile').forEach(b => b.remove());

            // –û–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É –¥–ª—è —Å—Ç—Ä—ñ–ª—å–±–∏
            battleField.addEventListener('click', shootBurger);
            
            // –û—Å–Ω–æ–≤–Ω–∏–π —Ü–∏–∫–ª (1 —Å–µ–∫—É–Ω–¥–∞)
            gameInterval = setInterval(() => {
                gameTime--;
                
                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–π–º–µ—Ä–∞ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
                const minutes = Math.floor(gameTime / 60);
                const seconds = gameTime % 60;
                document.getElementById('time-display').textContent = 
                    `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                if (gameTime <= 0) {
                    stopGameLoop(true);
                }
            }, 1000);
            
            // –¶–∏–∫–ª —Ä—É—Ö—É —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä–æ–∫ (—à–≤–∏–¥—à–∏–π)
            chickenSpawnInterval = setInterval(() => {
                // –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ—è–≤–∏ –∫—É—Ä–æ–∫ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —á–∞—Å—É, —â–æ –∑–∞–ª–∏—à–∏–≤—Å—è
                const level = Math.ceil((180 - gameTime) / 30); // –ö–æ–∂–Ω—ñ 30 —Å–µ–∫ —Ä—ñ–≤–µ–Ω—å +1
                spawnChicken(level);
                moveChickens(); // –†—É—Ö –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É —à–≤–∏–¥–∫–æ–º—É —Ç—ñ–∫—É
            }, 1500 - (180 - gameTime) * 5); // –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ—è–≤–∏ –∑—Ä–æ—Å—Ç–∞—î
        }

        function stopGameLoop(win) {
            clearInterval(gameInterval);
            clearInterval(chickenSpawnInterval);
            battleField.removeEventListener('click', shootBurger);
            
            if (win === true) {
                alert("üéâ –ü–ï–†–ï–ú–û–ì–ê! –í–∏ –≤–∏—Å—Ç–æ—è–ª–∏ 3 —Ö–≤–∏–ª–∏–Ω–∏!");
                money += 500; // –í–µ–ª–∏–∫–∞ –Ω–∞–≥–æ—Ä–æ–¥–∞
            } else if (win === false) {
                alert("üíÄ –ü–†–û–ì–†–ê–®! –ß—ñ–∫—î–Ω–ó—î—Ñ–∏ –≤–∞—Å –∑'—ó–ª–∏!");
            }
            
            // –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Å—Ç—ñ–Ω —É —Ü–µ–Ω—Ç—Ä
            wallLeft.style.transform = 'translateX(0)';
            wallRight.style.transform = 'translateX(0)';
            battleField.style.transform = 'translateX(0)';
            playerPosition = 0;
            
            // –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤ –º–µ–Ω—é
            showScreen('main-menu');
        }


        // –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø
        document.addEventListener('DOMContentLoaded', () => {
            showScreen('main-menu');
        });
    </script>
</body>
</html>
