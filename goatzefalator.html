<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –°–∏–º—É–ª—è—Ç–æ—Ä –ö–æ–∑–ª–∞ (Three.js)</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #f0f0f0; }
        canvas { display: block; } /* –í–∏–¥–∞–ª—è—î–º–æ –ø—Ä–æ—Å—Ç—ñ—Ä –ø—ñ–¥ Canvas */
        #ui {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-family: sans-serif;
            z-index: 10;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 5px;
        }
        button {
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <div id="ui">
        <h2>üêê 3D Goat Sim (–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π)</h2>
        <p>–ö–µ—Ä—É–≤–∞–Ω–Ω—è:</p>
        <ul>
            <li>**–ú–∏—à–∞ (–ù–∞—Ç–∏—Å–Ω—É—Ç–∏ —Ç–∞ —Ç—è–≥–Ω—É—Ç–∏):** –û–±–µ—Ä—Ç–∞—Ç–∏ –∫–∞–º–µ—Ä—É –Ω–∞–≤–∫–æ–ª–æ –∫–æ–∑–ª–∞.</li>
            <li>**–°–∫—Ä–æ–ª –º–∏—à—ñ:** –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (–Ω–∞–±–ª–∏–∂–µ–Ω–Ω—è/–≤—ñ–¥–¥–∞–ª–µ–Ω–Ω—è).</li>
        </ul>
        <div id="stats">–•–∞–æ—Å: 0</div>
        <button onclick="jumpGoat()">–°—Ç—Ä–∏–±–Ω—É—Ç–∏! (Space)</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

<script>
    // --- 1. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ü–µ–Ω–∏ ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });

    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // --- 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –û–±'—î–∫—Ç—ñ–≤ ---

    // –ö–æ–∑–µ–ª (–ö—É–±)
    const goatGeometry = new THREE.BoxGeometry(1, 1, 1);
    const goatMaterial = new THREE.MeshPhongMaterial({ color: 0x00ff00 }); // –ó–µ–ª–µ–Ω–∏–π, —è–∫ –∫–æ–ª—ñ—Ä –∫–æ–∑–ª–∞ –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ
    const goat = new THREE.Mesh(goatGeometry, goatMaterial);
    goat.position.y = 0.5; // –ü—ñ–¥–Ω—ñ–º–∞—î–º–æ –Ω–∞–¥ –∑–µ–º–ª–µ—é
    scene.add(goat);

    // –ó–µ–º–ª—è (–ü–ª–æ—â–∏–Ω–∞)
    const groundGeometry = new THREE.PlaneGeometry(10, 10);
    const groundMaterial = new THREE.MeshPhongMaterial({ color: 0x8FBC8F, side: THREE.DoubleSide }); // –°–≤—ñ—Ç–ª–æ-–∑–µ–ª–µ–Ω–∞ —Ç—Ä–∞–≤–∞
    const ground = new THREE.Mesh(groundGeometry, groundMaterial);
    ground.rotation.x = Math.PI / 2; // –û–±–µ—Ä—Ç–∞—î–º–æ –Ω–∞ 90 –≥—Ä–∞–¥—É—Å—ñ–≤, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É –ø–ª–æ—â–∏–Ω—É
    scene.add(ground);

    // --- 3. –û—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è ---
    const ambientLight = new THREE.AmbientLight(0x404040); // –ú'—è–∫–µ –Ω–∞–≤–∫–æ–ª–∏—à–Ω—î —Å–≤—ñ—Ç–ª–æ
    scene.add(ambientLight);

    const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
    directionalLight.position.set(5, 5, 5).normalize();
    scene.add(directionalLight);

    // --- 4. –ö–∞–º–µ—Ä–∞ —Ç–∞ –ö–æ–Ω—Ç—Ä–æ–ª—å ---
    camera.position.set(3, 3, 3);
    camera.lookAt(goat.position);

    // OrbitControls –¥–æ–∑–≤–æ–ª—è—î –æ–±–µ—Ä—Ç–∞—Ç–∏ —Ç–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ —Å—Ü–µ–Ω—É –º–∏—à–µ—é
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.target.set(0, 0.5, 0); // –§–æ–∫—É—Å—É—î–º–æ –∫–∞–º–µ—Ä—É –Ω–∞ –∫–æ–∑–ª—ñ
    controls.update();

    // --- 5. –õ–æ–≥—ñ–∫–∞ –ì—Ä–∏ ---
    let chaos = 0;
    let isJumping = false;
    let jumpVelocity = 0;
    const gravity = -0.05;

    const statsDisplay = document.getElementById('stats');

    function updateChaos(amount) {
        chaos += amount;
        statsDisplay.textContent = `–•–∞–æ—Å: ${chaos}`;
    }

    // –î—ñ—è: –°—Ç—Ä–∏–±–æ–∫
    function jumpGoat() {
        if (!isJumping) {
            isJumping = true;
            jumpVelocity = 0.5; // –ü–æ—á–∞—Ç–∫–æ–≤–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Å—Ç—Ä–∏–±–∫–∞
            updateChaos(10);
        }
    }

    // –û–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ Space
    document.addEventListener('keydown', (event) => {
        if (event.code === 'Space') {
            jumpGoat();
        }
    });

    // --- 6. –ê–Ω—ñ–º–∞—Ü—ñ–π–Ω–∏–π –¶–∏–∫–ª (–†–µ–Ω–¥–µ—Ä–∏–Ω–≥) ---

    function animate() {
        requestAnimationFrame(animate);

        // –õ–æ–≥—ñ–∫–∞ –°—Ç—Ä–∏–±–∫–∞ (–§—ñ–∑–∏–∫–∞)
        if (isJumping) {
            // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ—é
            jumpVelocity += gravity;
            goat.position.y += jumpVelocity;

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø—Ä–∏–∑–µ–º–ª–µ–Ω–Ω—è (–∑–µ–º–ª—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ y=0)
            if (goat.position.y <= 0.5) {
                goat.position.y = 0.5; // –§—ñ–∫—Å—É—î–º–æ –Ω–∞ —Ä—ñ–≤–Ω—ñ –∑–µ–º–ª—ñ
                isJumping = false;
                jumpVelocity = 0;
            }
        }

        controls.update(); // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –∫–∞–º–µ—Ä–∏
        renderer.render(scene, camera);
    }

    animate();

    // --- 7. –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å (Resize) ---
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

</script>

</body>
</html>
